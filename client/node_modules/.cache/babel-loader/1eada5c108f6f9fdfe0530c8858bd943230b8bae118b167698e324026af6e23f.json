{"ast":null,"code":"var _jsxFileName = \"/Users/samblack/Desktop/MERN/Projects/fleetware/client/src/pages/DriverManagement.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { GenericTable, GenericPopup } from './ReusableReactComponents';\nimport './AllPages.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DriverForm = ({\n  driver,\n  onSave,\n  onClose\n}) => {\n  _s();\n  const initialState = driver || {\n    Name: '',\n    Address: '',\n    LicenseNumber: '',\n    LicenseExpiration: '',\n    PhoneNumber: '',\n    Email: '',\n    EmergencyContact: '',\n    DateOfHiring: '',\n    Position: '',\n    Department: '',\n    DrivingRecord: '',\n    TrainingRecords: '',\n    StandardVehicleAssignment: '',\n    PerformanceReviews: ''\n  };\n  const [driverData, setDriverData] = useState(initialState);\n  const handleChange = e => {\n    setDriverData({\n      ...driverData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault(); // Prevent form submission if you're using a form\n    try {\n      await onSave(driverData);\n      onClose();\n    } catch (error) {\n      console.error('Error saving driver:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [Object.keys(initialState).map(key => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [key.replace(/([A-Z])/g, ' $1').trim(), \":\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\" // Adjust types as needed, e.g., 'date' for LicenseExpiration\n        ,\n        name: key,\n        value: driverData[key],\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)]\n    }, key, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Save Driver\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(DriverForm, \"5pef6NuuhHUw/zcWP00VRlpPzdo=\");\n_c = DriverForm;\nconst DriverManagement = () => {\n  _s2();\n  const [drivers, setDrivers] = useState([]);\n  const [showDriverPopup, setShowDriverPopup] = useState(false);\n  const [currentDriver, setCurrentDriver] = useState(null);\n  useEffect(() => {\n    fetchDrivers();\n  }, []);\n  const fetchDrivers = async () => {\n    try {\n      const response = await axios.get('/api/drivers');\n      setDrivers(response.data);\n    } catch (error) {\n      console.error('Error fetching drivers:', error);\n    }\n  };\n  const handleSaveDriver = async driverData => {\n    const method = driverData._id ? 'put' : 'post';\n    const url = driverData._id ? `/api/drivers/${driverData._id}` : '/api/drivers';\n    try {\n      await axios[method](url, driverData);\n      fetchDrivers();\n      setShowDriverPopup(false);\n    } catch (error) {\n      console.error('Error saving driver:', error);\n    }\n  };\n  const deleteDriver = async id => {\n    try {\n      await axios.delete(`/api/drivers/${id}`);\n      fetchDrivers();\n    } catch (error) {\n      console.error('Error deleting driver:', error);\n    }\n  };\n  const driverColumns = [{\n    Header: 'Name',\n    accessor: 'Name'\n  },\n  // Include other columns as needed\n  {\n    Header: 'Actions',\n    accessor: 'actions',\n    Cell: ({\n      row\n    }) => /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setCurrentDriver(row.original);\n          setShowDriverPopup(true);\n        },\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => deleteDriver(row.original._id),\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"driver-management-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        setCurrentDriver(null);\n        setShowDriverPopup(true);\n      },\n      children: \"Add Driver\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(GenericTable, {\n      data: drivers,\n      columns: driverColumns\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), showDriverPopup && /*#__PURE__*/_jsxDEV(GenericPopup, {\n      show: showDriverPopup,\n      onClose: () => setShowDriverPopup(false),\n      children: /*#__PURE__*/_jsxDEV(DriverForm, {\n        driver: currentDriver,\n        onSave: handleSaveDriver,\n        onClose: () => setShowDriverPopup(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n};\n_s2(DriverManagement, \"dhAUX0vXkm9HhrN8oNZosj/Ds9Y=\");\n_c2 = DriverManagement;\nexport default DriverManagement;\nvar _c, _c2;\n$RefreshReg$(_c, \"DriverForm\");\n$RefreshReg$(_c2, \"DriverManagement\");","map":{"version":3,"names":["React","useState","useEffect","axios","GenericTable","GenericPopup","jsxDEV","_jsxDEV","Fragment","_Fragment","DriverForm","driver","onSave","onClose","_s","initialState","Name","Address","LicenseNumber","LicenseExpiration","PhoneNumber","Email","EmergencyContact","DateOfHiring","Position","Department","DrivingRecord","TrainingRecords","StandardVehicleAssignment","PerformanceReviews","driverData","setDriverData","handleChange","e","target","name","value","handleSubmit","preventDefault","error","console","onSubmit","children","Object","keys","map","key","replace","trim","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","_c","DriverManagement","_s2","drivers","setDrivers","showDriverPopup","setShowDriverPopup","currentDriver","setCurrentDriver","fetchDrivers","response","get","data","handleSaveDriver","method","_id","url","deleteDriver","id","delete","driverColumns","Header","accessor","Cell","row","onClick","original","className","columns","show","_c2","$RefreshReg$"],"sources":["/Users/samblack/Desktop/MERN/Projects/fleetware/client/src/pages/DriverManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { GenericTable, GenericPopup } from './ReusableReactComponents';\nimport './AllPages.css';\n\nconst DriverForm = ({ driver, onSave, onClose }) => {\n  const initialState = driver || {\n    Name: '',\n    Address: '',\n    LicenseNumber: '',\n    LicenseExpiration: '',\n    PhoneNumber: '',\n    Email: '',\n    EmergencyContact: '',\n    DateOfHiring: '',\n    Position: '',\n    Department: '',\n    DrivingRecord: '',\n    TrainingRecords: '',\n    StandardVehicleAssignment: '',\n    PerformanceReviews: ''\n  };\n  \n  const [driverData, setDriverData] = useState(initialState);\n\n  const handleChange = (e) => {\n    setDriverData({ ...driverData, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault(); // Prevent form submission if you're using a form\n    try {\n      await onSave(driverData);\n      onClose();\n    } catch (error) {\n      console.error('Error saving driver:', error);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      {Object.keys(initialState).map((key) => (\n        <div key={key}>\n          <label>{key.replace(/([A-Z])/g, ' $1').trim()}:</label>\n          <input \n            type=\"text\" // Adjust types as needed, e.g., 'date' for LicenseExpiration\n            name={key} \n            value={driverData[key]} \n            onChange={handleChange} \n          />\n        </div>\n      ))}\n      <button type=\"submit\">Save Driver</button>\n    </form>\n  );\n};\n\nconst DriverManagement = () => {\n  const [drivers, setDrivers] = useState([]);\n  const [showDriverPopup, setShowDriverPopup] = useState(false);\n  const [currentDriver, setCurrentDriver] = useState(null);\n\n  useEffect(() => {\n    fetchDrivers();\n  }, []);\n\n  const fetchDrivers = async () => {\n    try {\n      const response = await axios.get('/api/drivers');\n      setDrivers(response.data);\n    } catch (error) {\n      console.error('Error fetching drivers:', error);\n    }\n  };\n\n  const handleSaveDriver = async (driverData) => {\n    const method = driverData._id ? 'put' : 'post';\n    const url = driverData._id ? `/api/drivers/${driverData._id}` : '/api/drivers';\n\n    try {\n      await axios[method](url, driverData);\n      fetchDrivers();\n      setShowDriverPopup(false);\n    } catch (error) {\n      console.error('Error saving driver:', error);\n    }\n  };\n\n  const deleteDriver = async (id) => {\n    try {\n      await axios.delete(`/api/drivers/${id}`);\n      fetchDrivers();\n    } catch (error) {\n      console.error('Error deleting driver:', error);\n    }\n  };\n\n  const driverColumns = [\n    { Header: 'Name', accessor: 'Name' },\n    // Include other columns as needed\n    {\n      Header: 'Actions',\n      accessor: 'actions',\n      Cell: ({ row }) => (\n        <>\n          <button onClick={() => {\n            setCurrentDriver(row.original);\n            setShowDriverPopup(true);\n          }}>Edit</button>\n          <button onClick={() => deleteDriver(row.original._id)}>Delete</button>\n        </>\n      )\n    }\n  ];\n\n  return (\n    <div className=\"driver-management-container\">\n      <button onClick={() => {\n        setCurrentDriver(null);\n        setShowDriverPopup(true);\n      }}>Add Driver</button>\n\n      <GenericTable data={drivers} columns={driverColumns} />\n\n      {showDriverPopup && (\n        <GenericPopup show={showDriverPopup} onClose={() => setShowDriverPopup(false)}>\n          <DriverForm driver={currentDriver} onSave={handleSaveDriver} onClose={() => setShowDriverPopup(false)} />\n        </GenericPopup>\n      )}\n    </div>\n  );\n};\n\nexport default DriverManagement;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}